"use strict";function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function o(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,a,t){return a&&o(e.prototype,a),t&&o(e,t),e}}(),validate={isEmpty:function(e){var a=new RegExp;return a.compile("^[s ]*$","gi"),a.test(e)},validateRegex:function(e,a){return!!new RegExp(e).test(a)},checkEmptySpace:function(e){for(var a=e.length,t=0,o=0;o<a;o++)" "==e.charAt(o)&&t++;return 0==t},verifySpecialCharPassword:function(e){for(var a=0,t=e,o=0;o<t.length;o++)-1!="!@$_-".indexOf(t.charAt(o))&&a++;return 0==a},validateDate:function(e,a){var t=e.split(a),o=parseInt(t[0],10),n=parseInt(t[1],10),i=parseInt(t[2],10);if(i<1e3||3e3<i||0==n||12<n)return!1;var r=[31,28,31,30,31,30,31,31,30,31,30,31];return 2==n?((i%400==0||i%100!=0&&i%4==0)&&(r[1]=29),0<o&&o<=r[n-1]):!(o>r[n-1])},validateAge:function(e,a,t){a=null==a?"18":a;var o=e.split(t),n=parseInt(o[0],10),i=parseInt(o[1],10),r=parseInt(o[2],10),s=new Date,l=s.getFullYear()-r,c=s.getMonth()+1-i,d=s.getDate()-n;return c<0?l--:0==c&&d<0&&l--,a<=l},validateProcess:function(e){if("true"==e.attr("data-require")){var a=e.val(),t=e.attr("data-type"),o=e.attr("data-error-target"),n=0;if("text"==t&&(""==a||this.isEmpty(a)?(this.error_message("error",e,o,e.attr("data-required-message")),n++):this.error_message("good",e,o,"")),"regex"==t&&(""==a||this.isEmpty(a)?(this.error_message("error",e,o,e.attr("data-required-message")),n++):this.validateRegex(e.attr("data-regex-pattern"),a)?this.error_message("good",e,o,""):(this.error_message("error",e,o,e.attr("data-pattern-message")),n++)),"password"==t||"matchpassword"==t)if(""==a||this.isEmpty(a))this.error_message("error",e,o,e.attr("data-required-message")),n++;else if(this.checkEmptySpace(a)){if("matchpassword"==t)$(e.attr("data-match-field")).val()!=a?this.error_message("error",e,o,e.attr("data-match-password-message")):this.error_message("good",e,o,"");else this.error_message("good",e,o,"")}else this.error_message("error",e,o,e.attr("data-empty-space-message")),n++;if("ddl"==t&&("default"==a?(this.error_message("error",e,o,e.attr("data-required-message")),n++):this.error_message("good",e,o,"")),"checkbox"==t&&(e.is(":checked")?this.error_message("good",e,o,"",t):(this.error_message("error",e,o,e.attr("data-required-message"),t),n++)),"date"==t){var i=0;if("multiple"==(null!=e.attr("data-field")?e.attr("data-field"):"single")){var r=e.attr("data-field-common"),s=$(r+'[data-date-field="day"]'),l=$(r+'[data-date-field="month"]'),c=$(r+'[data-date-field="year"]'),d=s.val(),u=l.val(),p=c.val(),h="#error-date-common-age",g=$("#day").attr("data-required-message"),m=(new Date).getFullYear();""==d||isNaN(d)||parseInt(d)<1||d.length<2||31<d?(i++,n++,this.error_message("error",s,s.attr("data-error-target"),s.attr("data-required-message"))):this.error_message("good",s,s.attr("data-error-target"),""),""==u||isNaN(u)||parseInt(u)<1||u.length<2||12<u?(i++,n++,this.error_message("error",l,l.attr("data-error-target"),l.attr("data-required-message"))):this.error_message("good",l,l.attr("data-error-target"),""),""==p||isNaN(p)||p.length<4||p<1900||m<p?(i++,n++,this.error_message("error",c,c.attr("data-error-target"),c.attr("data-required-message"))):this.error_message("good",c,c.attr("data-error-target"),""),0==i&&(a=d+"/"+u+"/"+p,this.validateDate(a,"/")?null!=s.attr("data-min-age")?this.validateAge(a,s.attr("data-min-age"),"/")?this.error_message("good",s,h,"",r):(this.error_message("error",s,h,g,r),n++):this.error_message("good",s,h,"",r):(this.error_message("error",s,h,g),n++))}}return 0==n}},validateField:function(e){$(e).find("input[type=text], input[type=password], input[type=email]").on("blur",function(){validate.validateProcess($(this))}),$(e).find("select").on("change",function(){validate.validateProcess($(this))}),$(e).find("input[type=checkbox]").on("change",function(){validate.validateProcess($(this))}),$(e).find("input[type=radio]").on("change",function(){validate.validateProcess($(this))})},validateForm:function(e){var a=0;return $(e).find("input[type=text], input[type=email], input[type=password], input[type=file], select, textarea, input[type=checkbox], input[type=radio]").each(function(){"true"==$(this).attr("data-require")&&(validate.validateProcess($(this))||a++)}),0==a},errorDateHighlight:function(e,a){var t=$(e+'[data-date-field="day"]'),o=$(e+'[data-date-field="month"]'),n=$(e+'[data-date-field="year"]'),i=$(e).attr("data-min-age"),r=parseInt(t.val()),s=parseInt(o.val()),l=parseInt(n.val()),c=new Date,d=c.getDate(),u=c.getMonth()+1,p=c.getFullYear();"error"==a&&(d<r&&t.addClass("notvalid"),u<s&&(t.addClass("notvalid"),o.addClass("notvalid")),p-i<l&&n.addClass("notvalid"))},error_message:function(e,a,t,o,n){"error"==e?(void 0!==a.data("type")&&"checkbox"==a.data("type")&&a.next().addClass("notvalid"),a.removeClass("valid").addClass("notvalid")):(void 0!==a.data("type")&&"checkbox"==a.data("type")&&a.next().removeClass("notvalid").addClass("valid"),a.removeClass("notvalid").addClass("valid"))}},coreAjax=function(){function a(e){_classCallCheck(this,a),this.data={cache:!1,url:e.urlPath,type:e.method,dataType:e.dataType,data:e.data},null!=e.headers&&(this.data.headers=e.headers),null!=e.crossDomain&&(this.data.crossDomain=e.crossDomain),this.callback=e.callback,this.processCALL()}return _createClass(a,[{key:"processCALL",value:function(){var n=this;$.ajax(this.data).always(function(e,a,t){var o=void 0;o="success"==a?{status:t.status,response:e}:{status:e.status,response:e.responseJSON},n.callback.call(this,o)})}}]),a}(),FormModule=function(){function a(e){_classCallCheck(this,a),this.formID=e.formID,this.btnID=e.btnID,this.customTrigger=e.customTrigger,this.loaderID=e.loaderID,this.formPost=e.formPost,this.validation=null==e.validation||e.validation,this.OnlySubmit=null!=e.OnlySubmit&&e.OnlySubmit,this.googleCaptcha=null!=e.googleCaptcha&&e.googleCaptcha,this.serialize="",this.url=e.url||void 0,this.method=e.method||void 0,this.dataType=e.dataType||void 0,this.headers=null!=e.headers?e.headers:void 0,this.crossDomain=null!=e.crossDomain?e.crossDomain:void 0,this.Response=e.Response||void 0,this.extendHandlers=e.extendHandlers||void 0}return _createClass(a,[{key:"getSerialize",value:function(){return this.serialize}},{key:"setSerialize",value:function(e){this.serialize=e?$(this.formID).serialize()+"&Captcha="+e:$(this.formID).serialize()}},{key:"launchCall",value:function(e){var a={urlPath:this.url,method:this.method,dataType:this.dataType,data:e||this.serialize,callback:this.Response};null!=this.headers&&(a.headers=this.headers),null!=this.crossDomain&&(a.crossDomain=this.crossDomain);new coreAjax(a)}},{key:"eventHandlers",value:function(){var t=this,o=this.formID,n=this.btnID,i=(this.customTrigger,this.formPost),r=this.validation,e=this.OnlySubmit,s=this.googleCaptcha,l=this.loaderID;null!=this.extendHandlers&&this.extendHandlers.call(this),$(o).on("submit",function(e){return e.preventDefault(),!1}),1==r&&0==e&&validate.validateField(o),$(n).on("click",function(e){e.preventDefault();var a=0;1==r&&(0==validate.validateForm(o)&&(a++,$(o+" .notvalid").first().focus()));if(0==a)if(null!=s&&1==s)try{this.serialize=$(o).serialize(),grecaptcha.execute()}catch(a){console.log("Google Captcha: "+a)}else loaderModule.init({btnID:n,loaderID:l,status:"show"}),"AJAX"==i?(this.serialize=$(o).serialize(),t.launchCall($(o).serialize())):document.getElementById(o.substring(1)).submit()})}},{key:"init",value:function(){this.eventHandlers()}}]),a}(),appGoogleTracking={tracking:!0,fields:[],fieldConcat:"",abandonStatus:!1,formID:"",abSelector:"",abPrefillSelector:"",formSuccess:!1,dynamicSort:function(t){var o=1;return"-"===t[0]&&(o=-1,t=t.substr(1)),function(e,a){return(e[t]<a[t]?-1:e[t]>a[t]?1:0)*o}},indexAssigner:function(){$(this.formID).find(this.abSelector).each(function(e){$(this).attr("data-event-index",e)})},processAbandonForm:function(e){this.fields.push(e);var a=this.fields.sort(this.dynamicSort("index"));this.fieldConcat=a.map(function(e){return e.name}).join(" > ")},dataLayerPush:function(e){if(!0===this.tracking)if("undefined"!=typeof dataLayer){var a={};null!=e.dataEvent&&(a.event=e.dataEvent),null!=e.dataCategory&&(a.category=e.dataCategory),null!=e.dataAction&&(a.action=e.dataAction),null!=e.dataLabel&&(a.label=e.dataLabel),null!=e.customEvent&&(a=e.customEvent),dataLayer.push(a)}else console.log("Datalayer not set");else console.log("App Google tracking disable")},processEventCTA:function(e){var a=null==e.attr("data-label")?document.title:e.attr("data-label");this.dataLayerPush({dataEvent:e.attr("data-event"),dataCategory:e.attr("data-category"),dataAction:e.attr("data-action"),dataLabel:a}),null==e.attr("data-event-exception")&&(null!=e.attr("target")?window.open(e.attr("href"),"_blank"):window.location.href=e.attr("href"))},processEventTypeIn:function(e,a){if(!e.hasClass("type-in-active")){var t=e.attr("type"),o=0;if(""==e.val()&&o++,"checkbox"==t&&(e.is(":checked")||o++),"radio"==t){var n=e.closest("form").attr("id"),i=e.attr("name"),r=$("#"+n).find("input[name="+i+"]");r.is(":checked")||o++}if(0==o&&(null!=a&&e.hasClass(this.abPrefillSelector.substr(1))&&("radio"==t?r.addClass("type-in-active"):e.addClass("type-in-active")),null==a&&("radio"==t?r.addClass("type-in-active"):e.addClass("type-in-active"),this.dataLayerPush({dataEvent:e.attr("data-event"),dataCategory:e.attr("data-category"),dataAction:e.attr("data-action"),dataLabel:e.attr("data-label")})),1==this.abandonStatus)){var s={index:parseInt(e.attr("data-event-index")),name:e.attr("data-event-fieldname")};this.processAbandonForm(s)}}},prefillFieldAssigner:function(){var e=this;0<$(this.abPrefillSelector).length&&$(this.formID).find(this.abSelector).each(function(){e.processEventTypeIn($(this),"no_push")})},eventHandlers:function(e,a,t){var o=this;0<e.length&&e.on("click",function(e){e.preventDefault(),o.processEventCTA($(this))}),null!=a&&0<a.length&&a.on("change",function(){o.processEventCTA($(this))}),null!=t&&0<t.length&&t.on("keyup change",function(){o.processEventTypeIn($(this))}),1==o.abandonStatus&&(o.indexAssigner(),o.prefillFieldAssigner(),window.onunload=function(){0==o.formSuccess&&(appGoogleTracking.dataLayerPush({dataEvent:"form-click",dataCategory:"Form Action",dataAction:"Form Abandonment",dataLabel:appGoogleTracking.fieldConcat}),console.log(dataLayer))})},init:function(e){if(1==this.tracking){var a=null!=e.ctaInputSelector?e.ctaInputSelector:null,t=null!=e.typeInSelector?e.typeInSelector:null;1==e.abandonStatus&&(this.abandonStatus=!0,this.formID=e.formID,this.abSelector=e.abSelector,this.abPrefillSelector=e.abPrefillSelector),this.eventHandlers(e.ctaSelector,a,t)}else console.log("App Google tracking disable")}},loaderModule={init:function(e){"show"==e.status?($(e.btnID).attr("disabled",!0),$(e.customTrigger).attr("disabled",!0),$(e.loaderID).show()):"hide"==e.status&&($(e.btnID).attr("disabled",!1),$(e.customTrigger).attr("disabled",!1),$(e.loaderID).hide())}},helperModule={setMessageBoxText:function(e){$(".message-box").find(".text").html(e),$(".message-box").removeClass("display-none")},createCookie:function(e,a,t){var o=new Date;o.setTime(o.getTime()+24*t*60*60*1e3);var n="; expires="+o.toGMTString();document.cookie=e+"="+a+n+"; path=/"},buildCookie:function(e){console.log("JSON stringify",JSON.stringify(e)),this.createCookie("cookietag",JSON.stringify(e),7)},readCookie:function(e){var a=document.cookie.match(RegExp("(?:^|;\\s*)"+e+"=([^;]*)"));return a?a[1]:null},eraseCookie:function(e){document.cookie=e+"=; Max-Age=-99999999;"}};if(0<$("[data-page=entry-form-cheque]").length||0<$("[data-page=entry-form-bacs]").length){var cookietagObject=JSON.parse(helperModule.readCookie("cookietag"));null!=cookietagObject&&$("input[name=participationId]").val(cookietagObject.participationID);var $mobileUK=$("#mobile-uk"),$mobileROI=$("#mobile-roi");0<$("[data-page=entry-form-cheque]").length&&$mobileROI.detach(),$(".countryCheckbox").change(function(){this.checked&&("ie"==this.value?($mobileUK.detach(),$mobileROI.insertAfter($("input[name=email]"))):($mobileROI.detach(),$mobileUK.insertAfter($("input[name=email]"))))})}var EntryEmail={getResponse:function(e){$("#js-view-loader").hide(),0==e.response.Success&&"PARTICIPATION_CLOSED"==e.response.Data.Description&&(helperModule.setMessageBoxText("This promotion is only open between the hours <br class='only--up-md'> of 8am and 9pm, please come back later!"),$("#email-entry").hide());var a=JSON.parse(helperModule.readCookie("cookietag"));0==e.response.Success&&"WEEKLY_WINNING_LIMIT_REACHED"==e.response.Data.Description&&(helperModule.setMessageBoxText("You've already won once this week! <br class='only--up-md'> Please try again next week."),$("#email-entry").hide(),appGoogleTracking.dataLayerPush({dataEvent:"button-click",dataCategory:"Click Action",dataAction:"Already Won",dataLabel:a.participationID?a.participationID:""})),0==e.response.Success&&"DAILY_PARTICIPATION_LIMIT_REACHED"==e.response.Data.Description&&(helperModule.setMessageBoxText("You've already entered once today! <br class='only--up-md'> Buy another pack and try again tomorrow."),$("#email-entry").hide(),appGoogleTracking.dataLayerPush({dataEvent:"button-click",dataCategory:"Click Action",dataAction:"Already Entered Today",dataLabel:a.participationID?a.participationID:""})),1==e.response.Success&&"USER_HAS_NOT_COMPLETED_PREVIOUS_FLOW"==e.response.Data.Description&&(helperModule.buildCookie({participantID:e.response.Data.ParticipantId,participationID:e.response.Data.ParticipationId,consumerID:""}),window.location.href="/congratulations"),1!=e.response.Success||"PARTICIPATION_CREATED_SUCCESSFULLY"!=e.response.Data.Description&&"PARTICIPATION_ALREADY_CREATED"!=e.response.Data.Description||(helperModule.buildCookie({participantID:e.response.Data.ParticipantId,participationID:e.response.Data.ParticipationId,consumerID:""}),appGoogleTracking.dataLayerPush({dataEvent:"button-click",dataCategory:"Click Action",dataAction:"Enter Email",dataLabel:document.title}),window.location.href="/logo-scan")},eventHandlers:function(){}},EntryCheque={getResponse:function(e){if($("#js-view-loader").hide(),sessionStorage.removeItem("country"),console.log(e),1==e.response.Success){if(1==e.response.Data.SyncStatus){var a=JSON.parse(helperModule.readCookie("cookietag"));a&&(a.paymentMethodHead=e.response.Data.PaymentMethod,a.countrySelectedHead=e.response.Data.CountrySelected,a.consumerID=e.response.Data.ConsumerId,helperModule.buildCookie(a))}window.location.href="/thank-you"}},eventHandlers:function(){}},EntryBank={getResponse:function(e){if($("#js-view-loader").hide(),sessionStorage.removeItem("country"),console.log(e),1==e.response.Success){if(1==e.response.Data.SyncStatus){var a=JSON.parse(helperModule.readCookie("cookietag"));a&&(a.paymentMethodHead=e.response.Data.PaymentMethod,a.countrySelectedHead=e.response.Data.CountrySelected,a.consumerID=e.response.Data.ConsumerId,helperModule.buildCookie(a))}window.location.href="/thank-you"}},eventHandlers:function(){}};$(document).ready(function(){(function(){function e(){t.toggleClass("overlay-open"),a.toggleClass("open"),$("body").toggleClass("no-scroll")}var a=$(".js-menu-click"),t=$("nav.overlay"),o=t.find("a");return{init:function(){a.on("click",e),o.on("click",e)}}})().init(),function(){function e(){a.addClass("display-none"),t.addClass("display-none"),o.show()}var a=$(".message-overlay"),t=$(".message-box"),o=$("#email-entry"),n=t.find(".close");return{init:function(){n.on("click",e)}}}().init(),(e=$("#paymentTypeBank"),a=$("#paymentTypeCheque"),{init:function(){e.on("click",function(){appGoogleTracking.dataLayerPush({customEvent:{payment_method:"Bank Transfer"}}),appGoogleTracking.dataLayerPush({dataEvent:"button-click",dataCategory:"Click Action",dataAction:"Choose Payment Method",dataLabel:"Bank Transfer"})}),a.on("click",function(){appGoogleTracking.dataLayerPush({customEvent:{payment_method:"Cheque"}}),appGoogleTracking.dataLayerPush({dataEvent:"button-click",dataCategory:"Click Action",dataAction:"Choose Payment Method",dataLabel:"Cheque"})})}}).init(),function(){function e(){$(".message-overlay").hide()}function a(){s.detach(),p.detach(),g.detach(),l.detach(),c.detach(),r.insertAfter(d),u.insertAfter($("input[name=country]")),h.insertAfter(u)}function t(){r.detach(),u.detach(),h.detach(),p.insertAfter($("input[name=country]")),g.insertAfter(p),s.insertAfter(d),l.insertAfter($("input[name=sortCode]")),c.insertAfter(l)}$("#entry-form-country-selector");var o=$("[data-country='uk']"),n=$("[data-country='roi']"),i=$("input[name=country]"),r=$("#mobile-uk"),s=$("#mobile-roi"),l=$("input[name=IBAN]"),c=$("input[name=BIC]"),d=$("input[name=email]"),u=$("#flag-uk"),p=$("#flag-roi"),h=$("#text-uk"),g=$("#text-roi");return{init:function(){0<$("[data-page=entry-form-bacs]").length&&(o.on("click",function(){sessionStorage.setItem("country","uk"),i.val(sessionStorage.getItem("country")),a(),e()}),n.on("click",function(){sessionStorage.setItem("country","ie"),i.val(sessionStorage.getItem("country")),t(),e()}),i.val(sessionStorage.getItem("country")),""==i.val()?$(".message-overlay").show():"uk"==i.val().toLowerCase()?a():"ie"==i.val().toLowerCase()&&t())}}}().init(),function(){function a(){o.removeClass("js-active")}function t(e,a,t){var o,n;t?((o=new Date).setTime(o.getTime()+24*t*60*60*1e3),n="; expires="+o.toGMTString()):n="",document.cookie=e+"="+a+n+"; path=/"}var o=$("#js-cookie-banner"),n=o.find(".js-banner-close"),i=o.find(".js-accept-cookie");return{init:function(){var e;n.on("click",function(){t("trebor","false",30),a()}),i.on("click",function(){t("trebor","true",30),a()}),e="trebor",0<=document.cookie.indexOf(e+"=")||o.addClass("js-active")}}}().init(),function(){function e(e){var t,a;o=e.target.files[0],console.log(o),t=JSON.parse(helperModule.readCookie("cookietag")),(a=new FormData).append("PhotoInput",o),a.append("ParticipationId",t.participationID),a.append("ParticipantId",t.participantID),$("#js-view-loader").show(),$.ajax({url:r+s+"LogoAndWinCheck",type:"POST",processData:!1,contentType:!1,data:a,success:function(e){if(n.trigger("reset"),i.val(null),console.log("LOGO_GRAB_SUCCESS",e),$("#js-view-loader").hide(),"LOGO_INVALID"==e.Data.Description&&($(".message-overlay").removeClass("display-none"),$(".message-box").removeClass("display-none"),i.val(null)),"LOGO_VALID_BUT_LOST"==e.Data.Description&&(appGoogleTracking.dataLayerPush({customEvent:{name_of_prize_won:"LOST"}}),window.location.href="/sorry"),"LOGO_VALID_AND_WON"==e.Data.Description){var a=JSON.parse(helperModule.readCookie("cookietag"));a.nameOfPrizeWonHead=e.Data.PrizeName?encodeURIComponent(e.Data.PrizeName):"",a.gameStatusHead=e.Data.GameStatus?e.Data.GameStatus:"",console.log("cookieObject",a),console.log("PrizeName",e.Data.PrizeName),helperModule.buildCookie(a),window.location.href="/congratulations"}},error:function(e,a){appGoogleTracking.dataLayerPush({dataEvent:"button-click",dataCategory:"Click Action",dataAction:"Photo Error",dataLabel:t.participationID?t.participationID:""}),n.trigger("reset"),console.log("LOGO_GRAB_RESPONSE",e),console.log("LOGO_GRAB_ERROR",a),$("#js-view-loader").hide(),$(".message-overlay").removeClass("display-none"),$(".message-box").removeClass("display-none"),i.val(null)}})}function a(){i.click();var e=JSON.parse(helperModule.readCookie("cookietag"));appGoogleTracking.dataLayerPush({dataEvent:"button-click",dataCategory:"Click Action",dataAction:"Take Photo",dataLabel:e.participationID?e.participationID:""})}var o,n=$("#submit-photo"),t=$("#choose-photo"),i=$("#js-photo-input");new FileReader;return{init:function(){i.on("change",e),t.on("click",a)}}}().init();var e,a,r="//"+window.location.hostname,s="/Umbraco/api/Participation/",t=new FormModule({formID:"#email-entry",btnID:"#js-continue-email",loaderID:"#js-view-loader",formPost:"AJAX",validation:!0,OnlySubmit:!1,url:r+s+"EmailCheck",method:"POST",dataType:"json",Response:EntryEmail.getResponse,extendHandlers:EntryEmail.eventHandlers});t.init(),t.setSerialize();var o=new FormModule({formID:"#cheque-entry-form",btnID:"#js-continue-cheque",loaderID:"#js-view-loader",formPost:"AJAX",validation:!0,OnlySubmit:!1,googleCaptcha:!0,url:r+s+"RewardDelivery",method:"POST",dataType:"json",Response:EntryCheque.getResponse,extendHandlers:EntryCheque.eventHandlers});o.init();var n=new FormModule({formID:"#bank-entry-form",btnID:"#js-continue-bank",loaderID:"#js-view-loader",formPost:"AJAX",validation:!0,OnlySubmit:!1,googleCaptcha:!0,url:r+s+"RewardDelivery",method:"POST",dataType:"json",Response:EntryBank.getResponse,extendHandlers:EntryBank.eventHandlers});if(n.init(),window.submitFormRecaptcha=function(e){0<$("[data-page=entry-form-cheque]").length?(loaderModule.init({btnID:"#js-continue-cheque",loaderID:"#js-view-loader",status:"show"}),o.setSerialize(e),o.launchCall()):(loaderModule.init({btnID:"#js-continue-bank",loaderID:"#js-view-loader",status:"show"}),n.setSerialize(e),n.launchCall())},$("#revertToBank").on("click",function(){var e=JSON.parse(helperModule.readCookie("cookietag"));appGoogleTracking.dataLayerPush({dataEvent:"button-click",dataCategory:"Click Action",dataAction:"Revert to Bank Transfer",dataLabel:e.participationID?e.participationID:""})}),$("#revertToCheque").on("click",function(){var e=JSON.parse(helperModule.readCookie("cookietag"));appGoogleTracking.dataLayerPush({dataEvent:"button-click",dataCategory:"Click Action",dataAction:"Revert to Cheque",dataLabel:e.participationID?e.participationID:""})}),$("#js-continue-bank").on("click",function(){var e=JSON.parse(helperModule.readCookie("cookietag"));appGoogleTracking.dataLayerPush({customEvent:{participant_ID:e.participantID}}),appGoogleTracking.dataLayerPush({customEvent:{participation_ID:e.participationID?e.participationID:""}}),appGoogleTracking.dataLayerPush({customEvent:{consumer_ID:e.consumerID}}),appGoogleTracking.dataLayerPush({dataEvent:"button-click",dataCategory:"Click Action",dataAction:"Submit Form",dataLabel:e.participationID?e.participationID:""})}),$("#js-continue-cheque").on("click",function(){var e=JSON.parse(helperModule.readCookie("cookietag"));appGoogleTracking.dataLayerPush({customEvent:{participant_ID:e.participantID}}),appGoogleTracking.dataLayerPush({customEvent:{participation_ID:e.participationID?e.participationID:""}}),appGoogleTracking.dataLayerPush({customEvent:{consumer_ID:e.consumerID}}),appGoogleTracking.dataLayerPush({dataEvent:"button-click",dataCategory:"Click Action",dataAction:"Submit Form",dataLabel:e.participationID?e.participationID:""})}),$(".find-out-more").on("click",function(){appGoogleTracking.dataLayerPush({dataEvent:"button-click",dataCategory:"Click Action",dataAction:"Find Out More",dataLabel:document.title})}),0<$("[data-page=congratulations]").length){var i=JSON.parse(helperModule.readCookie("cookietag")),l=$(".money-image").attr("alt");appGoogleTracking.dataLayerPush({customEvent:{name_of_prize_won:l}}),appGoogleTracking.dataLayerPush({dataEvent:"button-click",dataCategory:"Click Action",dataAction:"Photo Confirmation",dataLabel:i.participationID?i.participationID:""})}if($("[data-page=homepage]").length,0<$("[data-page=thank-you]").length){i=JSON.parse(helperModule.readCookie("cookietag"));appGoogleTracking.dataLayerPush({customEvent:{participant_ID:i.participantID}}),appGoogleTracking.dataLayerPush({customEvent:{participation_ID:i.participationID?i.participationID:""}}),appGoogleTracking.dataLayerPush({customEvent:{consumer_ID:i.consumerID}}),appGoogleTracking.dataLayerPush({dataEvent:"button-click",dataCategory:"Click Action",dataAction:"Form Confirmation",dataLabel:i.participationID?i.participationID:""})}if(0<$("[data-page=sorry]").length){i=JSON.parse(helperModule.readCookie("cookietag"));appGoogleTracking.dataLayerPush({customEvent:{name_of_prize_won:"LOST"}}),appGoogleTracking.dataLayerPush({dataEvent:"button-click",dataCategory:"Click Action",dataAction:"Photo Confirmation",dataLabel:i.participationID?i.participationID:""})}var c=window.addEventListener("blur",function(){document.activeElement===document.getElementById("youtubevideo")&&appGoogleTracking.dataLayerPush({dataEvent:"button-click",dataCategory:"Click Action",dataAction:"Play Video",dataLabel:"Commercial Ads 2019 - Trebor - Give me strength"}),window.removeEventListener("blur",c)});0<$("[data-page=entry-form-bacs]").length||0<$("[data-page=entry-form-cheque]").length?appGoogleTracking.init({ctaSelector:$(".js-event-cta"),typeInSelector:$(".js-event-type-in"),abandonStatus:!0,formID:0<$("[data-page=entry-form-bacs]").length?"#bank-entry-form":"#cheque-entry-form",abSelector:".js-event-ab",abPrefillSelector:".js-event-ab-prefilled"}):appGoogleTracking.init({ctaSelector:$(".js-event-cta")})}),$(window).load(function(){$(".hero-image").bicubicImgInterpolation({crossOrigin:"anonymous"})});
//# sourceMappingURL=main.min.js.map